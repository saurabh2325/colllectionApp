/*! collection-application 2017-06-08 */

"use strict";angular.module("authServices",[]).factory("Auth",["$http","AuthToken",function(t,e){var n={};return n.login=function(n){return t.post("/authentication",n).then(function(t){return e.setToken(t.data.token),t})},n.isLoggedIn=function(){return!!e.getToken()},n.getUser=function(){if(e.getToken())return t.post("/me");$q.reject({message:"User has no token"})},n.logout=function(){e.setToken()},n}]).factory("AuthToken",["$window",function(t){var e={};return e.setToken=function(e){e?t.localStorage.setItem("token",e):t.localStorage.removeItem("token")},e.getToken=function(){return t.localStorage.getItem("token")},e}]).factory("AuthInterceptors",["AuthToken",function(t){var e={};return e.request=function(e){var n=t.getToken();return n&&(e.headers["x-access-token"]=n),e},e}]);