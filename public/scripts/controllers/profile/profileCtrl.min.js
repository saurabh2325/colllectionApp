/*! collection-application 2017-06-08 */

"use strict";angular.module("collectionApp").directive("fileModel",["$parse",function(t){return{restrict:"A",link:function(e,o,n){var c=t(n.fileModel).assign;o.bind("change",function(){e.$apply(function(){c(e,o[0].files[0])})})}}}]).controller("profileCtrl",["$scope","$http","$location",function(t,e,o){t.editProfile=function(t){o.path("/dashboard/profile/"+t+"/edit")}}]).controller("UDRProfileCtrl",["$scope","$http","$location","$stateParams",function(t,e,o,n){t.customerData={};!function(){e.get("/customerDetail/"+n.id).success(function(e){t.customerData=e.data})}(),t.uploadImage=function(){var o=t.myFile,n=new FormData;n.append("file",o),e.post("/uploadUsersFile",n,{transFormRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(e){t.customerData.user_img=e.filename}).error(function(){})},t.updateProfile=function(){e.put("/updateCustomer/"+t.customerData._id,t.customerData).success(function(t){alert("Customer detail successfully updated"),o.path("/dashboard/profile")})},t.cancel=function(t){o.path("/dashboard/profile")}}]).directive("match1",function(){return{restrict:"A",controller:["$scope",function(t){t.confirmed=!1,t.doConfirm=function(e){e.forEach(function(e){t.confirm==e?t.confirmed=!0:t.confirmed=!1})}}],link:function(t,e,o){o.$observe("match1",function(){t.matches=JSON.parse(o.match1),t.doConfirm(t.matches)}),t.$watch("confirm",function(){t.matches=JSON.parse(o.match1),t.doConfirm(t.matches)})}}});